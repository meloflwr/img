<svg width="1250" height="400" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1250" height="400" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="625" y="40" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#1a1a1a">
    Cache Redis - Timeline sur 2 heures (TTL = 1h)
  </text>
  
  <!-- Timeline line -->
  <line x1="100" y1="200" x2="1150" y2="200" stroke="#666" stroke-width="3"/>
  
  <!-- Time markers -->
  <text x="100" y="230" font-family="Arial, sans-serif" font-size="18" text-anchor="middle" fill="#333">9h00</text>
  <text x="400" y="230" font-family="Arial, sans-serif" font-size="18" text-anchor="middle" fill="#333">9h20</text>
  <text x="700" y="230" font-family="Arial, sans-serif" font-size="18" text-anchor="middle" fill="#333">9h40</text>
  <text x="1000" y="230" font-family="Arial, sans-serif" font-size="18" text-anchor="middle" fill="#333">10h00</text>
  
  <!-- 9h00 - First user hits DB -->
  <circle cx="100" cy="200" r="15" fill="#dc3545"/>
  <text x="100" y="270" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#dc3545">User 1</text>
  <text x="100" y="290" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#dc3545">ğŸ”´ DB Hit</text>
  <text x="100" y="310" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#666">Store â†’ Redis</text>
  
  <!-- Arrow showing cache storage -->
  <path d="M 100 180 Q 100 140 140 120" stroke="#28a745" stroke-width="2" fill="none" marker-end="url(#arrowgreen)"/>
  <text x="150" y="110" font-family="Arial, sans-serif" font-size="12" fill="#28a745">Cache stockÃ©</text>
  
  <!-- 9h05-9h59 - Multiple users hit cache -->
  <rect x="180" y="185" width="790" height="30" fill="#28a745" opacity="0.2" rx="5"/>
  <text x="575" y="155" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#28a745">Users 2-50</text>
  <text x="575" y="175" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#28a745">ğŸŸ¢ Cache Hits (Redis)</text>
  
  <!-- Cache icons during valid period -->
  <circle cx="250" cy="200" r="8" fill="#28a745"/>
  <circle cx="350" cy="200" r="8" fill="#28a745"/>
  <circle cx="450" cy="200" r="8" fill="#28a745"/>
  <circle cx="550" cy="200" r="8" fill="#28a745"/>
  <circle cx="650" cy="200" r="8" fill="#28a745"/>
  <circle cx="750" cy="200" r="8" fill="#28a745"/>
  <circle cx="850" cy="200" r="8" fill="#28a745"/>
  <circle cx="950" cy="200" r="8" fill="#28a745"/>
  
  <!-- 10h00 - Cache expires -->
  <circle cx="1000" cy="200" r="15" fill="#ffc107"/>
  <text x="1000" y="155" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#f57c00">â° Cache expire</text>
  <text x="1000" y="173" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#666">TTL = 1h Ã©coulÃ©</text>
  
  <!-- Vertical dashed line at expiration -->
  <line x1="1000" y1="150" x2="1000" y2="240" stroke="#f57c00" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- 10h01 onwards - New cycle indicator -->
  <circle cx="1080" cy="200" r="12" fill="#dc3545"/>
  <text x="1080" y="270" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#dc3545">User 51</text>
  <text x="1080" y="285" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#dc3545">ğŸ”´ DB Hit</text>
  <text x="1080" y="300" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">Re-cache</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#28a745"/>
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="100" y="340" width="300" height="50" fill="white" stroke="#ddd" stroke-width="1" rx="5"/>
  <circle cx="120" cy="365" r="8" fill="#dc3545"/>
  <text x="140" y="370" font-family="Arial, sans-serif" font-size="13" fill="#333">DB Hit</text>
  
  <circle cx="220" cy="365" r="8" fill="#28a745"/>
  <text x="240" y="370" font-family="Arial, sans-serif" font-size="13" fill="#333">Cache Hit</text>
  
  <!-- Key insight box -->
  <rect x="675" y="340" width="450" height="50" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" rx="5"/>
  <text x="900" y="360" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#1565c0">ğŸ’¡ 1 DB query/heure â†’ 24 queries/jour</text>
  <text x="900" y="378" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1976d2">Tous les autres users â†’ servis depuis Redis</text>
</svg>